<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="utf-8">
  <title>Admin Kasir - Sistem Rumah Sakit</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/admin-lte@3.2.0/dist/css/adminlte.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body class="hold-transition sidebar-mini">
  <div class="wrapper">

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
        </li>
      </ul>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link"><i class="fas fa-user-circle"></i> Welcome, admin</a>
        </li>
      </ul>
    </nav>

    <!-- Sidebar -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
      <a href="#" class="brand-link ml-3">
        <i class="fas fa-hospital mr-1"></i>
        <span class="brand-text font-weight-light">Admin Kasir RS</span>
      </a>
      <div class="sidebar">
        <nav class="mt-2">
          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu">
            <li class="nav-item">
              <a href="#" class="nav-link active" id="menu-jasa">
                <i class="nav-icon fas fa-procedures"></i>
                <p>Jasa Layanan</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" id="menu-obat">
                <i class="nav-icon fas fa-pills"></i>
                <p>Lihat Harga Obat</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" id="menu-laporan">
                <i class="nav-icon fas fa-chart-bar"></i>
                <p>Laporan</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link" id="menu-user">
                <i class="nav-icon fas fa-users"></i>
                <p>Manajemen User</p>
              </a>
            </li>
          </ul>
          <ul class="nav nav-pills nav-sidebar flex-column mb-3">
            <li class="nav-item">
              <a href="#" class="nav-link text-danger" id="btn-logout">
                <i class="nav-icon fas fa-sign-out-alt"></i>
                <p>Logout</p>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </aside>

    <!-- Content Wrapper -->
    <div class="content-wrapper">

      <!-- Section Jasa Layanan -->
      <section class="content" id="contentJasa">
        <div class="content-header">
          <h1>Kelola Jasa Layanan</h1>
        </div>
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Daftar Layanan</h3>
          </div>
          <div class="card-body">
            <button id="btnTambahLayanan" class="btn btn-primary mt-3">Tambah Layanan</button>
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>ID Layanan</th>
                  <th>Nama Layanan</th>
                  <th>Harga</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>SRV-001</td>
                  <td>Konsultasi Umum</td>
                  <td>Rp 50.000</td>
                  <td>
                    <button class="btn btn-sm btn-warning btn-edit-layanan">Edit</button>
                    <button class="btn btn-sm btn-danger">Hapus</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Section Harga Obat -->
      <section class="content" id="contentHargaObat" style="display:none;">
        <div class="content-header">
          <h1>Lihat Harga Obat</h1>
        </div>
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Daftar Harga Obat</h3>
          </div>
          <div class="card-body">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>No</th>
                  <th>Nama Obat</th>
                  <th>Harga</th>
                  <th>Stok</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>MED-001</td>
                  <td>Paracetamol</td>
                  <td>Rp 10.000</td>
                  <td>100</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Section Laporan -->
      <section class="content" id="contentLaporan" style="display:none;">
        <div class="content-header">
          <h1>Laporan Keuangan</h1>
        </div>
        <div class="card">
          <div class="card-body">
            <p>Isi laporan keuangan akan ditampilkan di sini.</p>
          </div>
        </div>
      </section>

      <!-- Section Manajemen User -->
      <section class="content" id="contentUser" style="display:none;">
        <div class="content-header">
          <h1>Manajemen User</h1>
        </div>
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Daftar User Petugas Kasir</h3>
          </div>
          <div class="card-body">
            <button id="btnTambahUser" class="btn btn-primary mb-3">Tambah User</button>
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>ID User</th>
                  <th>Nama</th>
                  <th>Username</th>
                  <th>Role</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>USR-001</td>
                  <td>Andi Wijaya</td>
                  <td>andiw</td>
                  <td>Kasir</td>
                  <td>
                    <button class="btn btn-sm btn-warning btn-edit-user">Edit</button>
                    <button class="btn btn-sm btn-danger">Hapus</button>
                  </td>
                </tr>
                <!-- Tambahkan data user lain sesuai kebutuhan -->
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Modal Tambah Layanan -->
      <div class="modal fade" id="modalTambahLayanan" tabindex="-1">
        <div class="modal-dialog">
          <form id="formTambahLayanan" class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Tambah Layanan Baru</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="namaLayanan" class="form-label">Nama Layanan</label>
                <input type="text" class="form-control" id="namaLayanan" required>
              </div>
              <div class="mb-3">
                <label for="hargaLayanan" class="form-label">Harga</label>
                <input type="number" class="form-control" id="hargaLayanan" required min="0" step="1000">
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
              <button type="submit" class="btn btn-primary">Simpan</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Modal Edit Layanan -->
      <div class="modal fade" id="modalEditLayanan" tabindex="-1">
        <div class="modal-dialog">
          <form id="formEditLayanan" class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Edit Layanan</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="editIdLayanan" class="form-label">ID Layanan</label>
                <input type="text" class="form-control" id="editIdLayanan" readonly>
              </div>
              <div class="mb-3">
                <label for="editNamaLayanan" class="form-label">Nama Layanan</label>
                <input type="text" class="form-control" id="editNamaLayanan" required>
              </div>
              <div class="mb-3">
                <label for="editHargaLayanan" class="form-label">Harga</label>
                <input type="number" class="form-control" id="editHargaLayanan" required min="0" step="1000">
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
              <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Modal Tambah User -->
      <div class="modal fade" id="modalTambahUser" tabindex="-1" aria-labelledby="modalTambahUserLabel"
        aria-hidden="true">
        <div class="modal-dialog">
          <form id="formTambahUser" class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalTambahUserLabel">Tambah User Baru</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Tutup"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="namaUser" class="form-label">Nama</label>
                <input type="text" class="form-control" id="namaUser" required>
              </div>
              <div class="mb-3">
                <label for="usernameUser" class="form-label">Username</label>
                <input type="text" class="form-control" id="usernameUser" required>
              </div>
              <div class="mb-3">
                <label for="passwordUser" class="form-label">Password</label>
                <input type="password" class="form-control" id="passwordUser" required>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
              <button type="submit" class="btn btn-primary">Simpan</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Modal Edit User -->
      <div class="modal fade" id="modalEditUser" tabindex="-1" aria-labelledby="modalEditUserLabel" aria-hidden="true">
        <div class="modal-dialog">
          <form id="formEditUser" class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalEditUserLabel">Edit User</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Tutup"></button>
            </div>
            <div class="modal-body">
              <div class="mb-3">
                <label for="editIdUser" class="form-label">ID User</label>
                <input type="text" class="form-control" id="editIdUser" readonly>
              </div>
              <div class="mb-3">
                <label for="editNamaUser" class="form-label">Nama</label>
                <input type="text" class="form-control" id="editNamaUser" required>
              </div>
              <div class="mb-3">
                <label for="editUsernameUser" class="form-label">Username</label>
                <input type="text" class="form-control" id="editUsernameUser" required>
              </div>
              <div class="mb-3">
                <label for="editPasswordUser" class="form-label">Password</label>
                <input type="password" class="form-control" id="editPasswordUser" required>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
              <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
            </div>
          </form>
        </div>
      </div>

    </div> <!-- end content-wrapper -->

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/admin-lte@3.2.0/dist/js/adminlte.min.js"></script>
    <script>
      $(document).ready(function () {
        $('#btnTambahLayanan').on('click', function () {
          $('#formTambahLayanan')[0].reset();
          $('#modalTambahLayanan').modal('show');
        });

        $('.btn-edit-layanan').on('click', function () {
          const row = $(this).closest('tr');
          const id = row.find('td:eq(0)').text().trim();
          const nama = row.find('td:eq(1)').text().trim();
          const harga = row.find('td:eq(2)').text().replace(/[^\d]/g, '');

          $('#editIdLayanan').val(id);
          $('#editNamaLayanan').val(nama);
          $('#editHargaLayanan').val(harga);
          $('#modalEditLayanan').modal('show');
        });

        // Navigasi menu
        $('#menu-jasa').on('click', function () {
          $('#contentJasa').show();
          $('#contentHargaObat, #contentLaporan, #contentUser').hide();
          $('.nav-link').removeClass('active');
          $(this).addClass('active');
        });

        $('#menu-obat').on('click', function () {
          $('#contentHargaObat').show();
          $('#contentJasa, #contentLaporan, #contentUser').hide();
          $('.nav-link').removeClass('active');
          $(this).addClass('active');
        });

        $('#menu-laporan').on('click', function () {
          $('#contentLaporan').show();
          $('#contentJasa, #contentHargaObat, #contentUser').hide();
          $('.nav-link').removeClass('active');
          $(this).addClass('active');
        });

        $('#menu-user').on('click', function () {
          // Sembunyikan semua section konten
          $('#contentJasa, #contentHargaObat, #contentLaporan').hide();
          // Tampilkan section Manajemen User
          $('#contentUser').show();

          // Atur kelas active pada menu sidebar
          $('.nav-link').removeClass('active');
          $(this).addClass('active');
        });

        // Simulasi submit form
        $('#formTambahLayanan, #formEditLayanan').on('submit', function (e) {
          e.preventDefault();
          alert('Data layanan disimpan (simulasi).');
          $('.modal').modal('hide');
        });
      });

      $(document).ready(function () {
        // Tampilkan modal Tambah User saat tombol diklik
        $('#btnTambahUser').on('click', function () {
          $('#formTambahUser')[0].reset();
          $('#modalTambahUser').modal('show');
        });

        // Tampilkan modal Edit User saat tombol edit diklik
        $('.btn-edit-user').on('click', function () {
          const row = $(this).closest('tr');
          const id = row.find('td:eq(0)').text().trim();
          const nama = row.find('td:eq(1)').text().trim();
          const username = row.find('td:eq(2)').text().trim();
          // Password biasanya tidak ditampilkan, bisa dikosongkan atau diisi placeholder
          $('#editIdUser').val(id);
          $('#editNamaUser').val(nama);
          $('#editUsernameUser').val(username);
          $('#editPasswordUser').val(''); // kosongkan password agar user isi ulang jika ingin ganti
          $('#modalEditUser').modal('show');
        });

        // Simulasi submit form Tambah User
        $('#formTambahUser').on('submit', function (e) {
          e.preventDefault();
          // Ambil data dari form
          const nama = $('#namaUser').val();
          const username = $('#usernameUser').val();
          const password = $('#passwordUser').val();
          // TODO: Tambahkan validasi dan simpan data ke backend atau array
          alert(`User baru ditambahkan:\nNama: ${nama}\nUsername: ${username}`);
          $('#modalTambahUser').modal('hide');
        });

        // Simulasi submit form Edit User
        $('#formEditUser').on('submit', function (e) {
          e.preventDefault();
          const id = $('#editIdUser').val();
          const nama = $('#editNamaUser').val();
          const username = $('#editUsernameUser').val();
          const password = $('#editPasswordUser').val();
          // TODO: Tambahkan validasi dan update data ke backend atau array
          alert(`User dengan ID ${id} diperbarui:\nNama: ${nama}\nUsername: ${username}`);
          $('#modalEditUser').modal('hide');
        });
      });
    </script>
  </div>
</body>

</html>